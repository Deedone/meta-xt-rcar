From 585d3c57073292c2883f1e10be815c4c11721a8b Mon Sep 17 00:00:00 2001
Message-Id: <585d3c57073292c2883f1e10be815c4c11721a8b.1728389216.git.mykyta_poturai@epam.com>
In-Reply-To: <bc35a1559ba18018db00e017ef9359f091274151.1728389216.git.mykyta_poturai@epam.com>
References: <bc35a1559ba18018db00e017ef9359f091274151.1728389216.git.mykyta_poturai@epam.com>
From: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>
Date: Fri, 1 Jun 2018 21:45:03 +0300
Subject: [PATCH 13/22] Enable Grant Tables based mechanism for mapping Guest
 FW heap

Signed-off-by: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>
---
 build/linux/r8a779g_linux/Makefile  | 3 +++
 build/linux/vexpress_linux/Makefile | 3 +++
 2 files changed, 6 insertions(+)

diff --git a/build/linux/r8a779g_linux/Makefile b/build/linux/r8a779g_linux/Makefile
index d01d532..e381142 100644
--- a/build/linux/r8a779g_linux/Makefile
+++ b/build/linux/r8a779g_linux/Makefile
@@ -102,6 +102,9 @@ SUPPORT_LINUX_WRAP_EXTMEM_PAGE_TABLE_WALK := 1
 
 PVRSRV_DEVICE_INIT_MODE := PVRSRV_LINUX_DEV_INIT_ON_PROBE
 
+# Choose Grant Tables based mechanism for mapping Guest FW heap
+PVRSRV_PVZIF_GNTTAB ?= 1
+
 # Should be last
 include ../config/core.mk
 -include ../common/lws.mk
diff --git a/build/linux/vexpress_linux/Makefile b/build/linux/vexpress_linux/Makefile
index 12e16fe..94eeff3 100644
--- a/build/linux/vexpress_linux/Makefile
+++ b/build/linux/vexpress_linux/Makefile
@@ -66,6 +66,9 @@ DC_FBDEV_NUM_PREFERRED_BUFFERS := 2
 
 KERNEL_COMPONENTS := srvkm $(DISPLAY_CONTROLLER)
 
+# Choose Grant Tables based mechanism for mapping Guest FW heap
+PVRSRV_PVZIF_GNTTAB ?= 1
+
 # Should be last
 include ../config/core.mk
 -include ../common/lws.mk
-- 
2.34.1

